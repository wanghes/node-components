/*!
 * mDialog v1.3.1
 * Date: 2014-04-23
 * Copyright 2013-2014 Frans.Lee, http://www.ifrans.cn
 */
!function(){var a='<div class="ui-dialog-inner"><div class="ui-dialog-header"><h2 class="ui-dialog-title"></h2><a href="javascript:;" class="ui-dialog-btn ui-dialog-close-btn"></a></div><div class="ui-dialog-cont-wrapper"><div class="ui-dialog-content"></div></div><div class="ui-dialog-btn-wrapper"></div></div>',b=function(a,c){c=c||{};var d=b.config,e=c.cancelBtn&&!c.cancelBtn.hide?!1:!0;for(var f in d)if(c[f]=void 0===c[f]?d[f]:c[f],"[object object]"==Object.prototype.toString.call(d[f]).toLowerCase())for(var g in d[f])c[f][g]=void 0===c[f][g]?d[f][g]:c[f][g];return c.cancelBtn.hide=e,b.config.zIndex=c.zIndex,new b.prototype.init(a,c)};b.prototype={constructor:b,init:function(c,d){if(c){var e,f=!0,g=this;if(g.elems(".ui-dialog"))for(var h=0,i=g.elems(".ui-dialog").length;i>h;){if("none"==g.elems(".ui-dialog")[h].style.display){e=g.elems(".ui-dialog")[h],f=!1;break}h++}return this.DOM=e=e||document.createElement("div"),e.innerHTML=a,e.className="ui-dialog "+(d.mask?"ui-dialog-mask ":"")+d.addClass,g.domElem(".ui-dialog-title").innerText=d.title,g.domElem(".ui-dialog-content").innerHTML=c,e.style.zIndex=b.config.zIndex++,e.id=d.id,g.createBtn(d),f?(e.addEventListener("touchmove",function(a){"ui-dialog-content"!=a.target.className&&a.preventDefault()}),document.body.appendChild(e)):e.style.display="",this}},domElem:function(a){return this.DOM.querySelector(a)},elems:function(a){return document.querySelectorAll(a)},close:function(a){return(a||this.DOM).style.display="none",!1},createBtn:function(a){var b=this,d=(this.DOM,"");b.domElem(".ui-dialog-close-btn").style.display=a.closeBtn.hide?"none":"",a.okBtn.hide||(d+='<a href="javascript:;" class="ui-dialog-btn btn-a ok-btn">'+a.okBtn.text+"</a>"),a.cancelBtn.hide||(d+='<a href="javascript:;" class="ui-dialog-btn btn-b cancel-btn">'+a.cancelBtn.text+"</a>"),b.domElem(".ui-dialog-btn-wrapper").innerHTML=d,b.domElem(".ok-btn")&&b.domElem(".ok-btn").addEventListener("click",function(){a.okBtn.callback&&0==a.okBtn.callback.call(b)||b.close()},!1),b.domElem(".cancel-btn")&&b.domElem(".cancel-btn").addEventListener("click",function(){a.cancelBtn.callback&&0==a.cancelBtn.callback.call(b)||b.close()},!1),b.domElem(".ui-dialog-close-btn")&&b.domElem(".ui-dialog-close-btn").addEventListener("click",function(){a.closeBtn.callback&&0==a.closeBtn.callback.call(b)||b.close()},!1)}},b.close=function(a){a&&b().close(a)},b.config={title:"\u63d0\u793a\u4fe1\u606f",mask:!0,id:"",addClass:"",zIndex:9900,okBtn:{hide:!1,text:"\u786e\u5b9a",callback:null},cancelBtn:{hide:!1,text:"\u53d6\u6d88",callback:null},closeBtn:{hide:!1,callback:null}},b.prototype.init.prototype=b.prototype,window.mDialog=b}(window,void 0);